import random
from django.core.management.base import BaseCommand
from cars.models import Car  # Замените на имя вашего приложения и модели

class Command(BaseCommand):
    help = "Заполняет случайную историю для автомобилей без истории"

    # Примерный набор историй (добавьте до 20-30 записей)
    sample_histories = [
        "Машина проходила регулярное ТО у дилера.",
    "Автомобиль использовался в условиях городской эксплуатации.",
    "Произведен капитальный ремонт двигателя в 2021 году.",
    "Был поврежден в результате незначительного ДТП на парковке.",
    "Первый владелец, автомобиль не использовался в такси.",
    "Имеет незначительные следы коррозии на кузове.",
    "Заменены тормозные колодки и масло в двигателе в 2022 году.",
    "Пройден полный техосмотр в 2023 году.",
    "Машина эксплуатировалась в сухом климате, нет следов ржавчины.",
    "Установлена новая резина в начале 2024 года.",
    "Была проведена замена АКПП в 2020 году.",
    "Отличное техническое состояние, пробег соответствует заявленному.",
    "Автомобиль не использовался в экстремальных условиях.",
    "Заменен аккумулятор в 2023 году.",
    "Пройдено детальное ТО перед продажей, все узлы исправны.",
    "Кузов покрыт защитным покрытием от коррозии.",
    "Трансмиссия и двигатель работают без нареканий.",
    "Машина гаражного хранения, не была подвержена воздействию солнца.",
    "Регулярная замена масла каждые 10 000 км.",
    "Салон в отличном состоянии, не курили.",
    "Автомобиль регулярно обслуживался у официального дилера с момента покупки. Последний полный технический осмотр проведен в июне 2023 года. За последние два года были заменены тормозные колодки, фильтры и проведена замена масла. Автомобиль полностью исправен и готов к эксплуатации без дополнительных вложений.",

    "В 2021 году автомобиль прошел капитальный ремонт подвески, включая замену амортизаторов, втулок и стабилизаторов. Обслуживание проводилось с использованием оригинальных запчастей. Тормозные диски и колодки также заменены на новые, обеспечивая безопасное торможение.",

    "В 2022 году автомобиль попал в небольшое ДТП, в результате которого была повреждена передняя часть кузова. Произведен профессиональный ремонт и восстановление внешнего вида. Были заменены бампер, передние фары и радиатор. После ремонта автомобиль прошел диагностику и не выявлено скрытых повреждений.",

    "Этот автомобиль использовался как семейный и редко выезжал за пределы города. В 2023 году были проведены замена аккумулятора и проверка электрики. Регулярная замена масла каждые 10,000 км гарантировала сохранность двигателя в хорошем состоянии. Салон чистый, без повреждений и признаков износа.",

    "Прошлым владельцем автомобиль использовался для поездок на дальние расстояния. В начале 2023 года были заменены свечи зажигания, ремень ГРМ и ролики, а также проведена диагностика системы охлаждения. Ремонт проводился с использованием сертифицированных запчастей и гарантирует надежность автомобиля.",

    "Автомобиль участвовал в официальной программе обслуживания, что обеспечивало своевременные ТО у дилера. В 2020 году была произведена полная замена тормозной системы, включая тормозные диски и жидкости. В 2022 году заменен фильтр салона и кондиционера, а также сделана заправка фреона.",

    "Автомобиль эксплуатировался в условиях средней интенсивности. Проведена полная диагностика двигателя и ходовой части в 2022 году. Установлены новые зимние шины в декабре того же года. Обслуживание подвески не требуется, так как все основные детали заменены год назад.",

    "В 2021 году автомобиль прошел комплексную диагностику после покупки у первого владельца. Были заменены тормозные шланги, масло в трансмиссии и охлаждающая жидкость. По результатам диагностики, кузов в хорошем состоянии, следов коррозии не обнаружено.",

    "Автомобиль долгое время использовался на трассе. В 2023 году проведено плановое ТО, заменены воздушный и топливный фильтры, а также произведена регулировка фар. Также установлены новые резиновые коврики в салоне, произведена глубокая химчистка.",

    "Владельцем были установлены новые диски и шины в 2022 году. Автомобиль не подвергался серьезным ремонтам, все системы работают стабильно. Проведена замена антифриза в 2023 году и профилактика тормозной системы. Кондиционер заправлен и работает без сбоев.",

    "На пробеге в 80,000 км был произведен капитальный ремонт двигателя. Все детали были заменены на оригинальные, включая поршневую группу и кольца. С тех пор автомобиль проходил регулярное обслуживание и не имел существенных поломок или отказов.",

    "Автомобиль использовался в городских условиях. В 2022 году были заменены все четыре амортизатора и проверены тормоза. Салон ухожен, сидения без пятен и потертостей. Система охлаждения работает стабильно, перегревов не зафиксировано.",

    "В начале 2023 года автомобиль прошел полное техническое обслуживание. Произведена замена масла, всех фильтров и свечей зажигания. Проверено давление в шинах и произведен сход-развал. Кузов обработан защитным покрытием, чтобы избежать коррозии.",

    "Этот автомобиль участвовал в программе корпоративного транспорта. Регулярное ТО проводилось каждые 15,000 км. В 2021 году был заменен стартер и аккумулятор. В салоне установлены дополнительные коврики, защищающие пол от износа и повреждений.",

    "В автомобиле установлен новый комплект летних шин. В 2023 году была заменена рулевая рейка и проверены тяги. На заднем бампере есть незначительные царапины, но кузов в целом находится в хорошем состоянии, без серьезных повреждений.",

    "В 2021 году было произведено восстановление лакокрасочного покрытия после мелких повреждений. Кузов покрашен в исходный цвет, не отличим от оригинального. Заменены лобовое стекло и передние дворники. Система освещения работает корректно.",

    "Этот автомобиль был куплен новым и обслуживался только на дилерской станции. Масло меняли каждые 10,000 км. В 2022 году была заменена коробка передач на новую, оригинальную. После этого автомобиль прошел тестирование и показал отличные результаты.",

    "Проверка подвески в 2022 году показала износ некоторых элементов, которые были немедленно заменены. На текущий момент подвеска находится в идеальном состоянии. Установлен новый генератор, и проверена работоспособность всех электроприборов.",

    "Автомобиль никогда не участвовал в авариях. Владелец всегда использовал только оригинальные масла и фильтры. В 2023 году была заменена охлаждающая жидкость и произведена очистка кондиционера. Также заменены передние и задние тормозные диски.",

    "После длительного использования автомобиль прошел проверку систем безопасности. В 2023 году установлены новые подушки безопасности и ремни. Проведена регулировка сидений и системы подогрева. Все обновления соответствуют заводским стандартам.",

    "В начале эксплуатации автомобиля была проведена полная антикоррозийная обработка. В 2021 году проведена замена выхлопной системы. В 2022 году установлены новые передние тормоза и заменены свечи. Автомобиль готов к зимней эксплуатации.",
]

    def handle(self, *args, **kwargs):
        cars_without_history = Car.objects.all()

        for car in cars_without_history:
            car.history = random.choice(self.sample_histories)
            car.save()  # Или car.save(commit=True)
            self.stdout.write(self.style.SUCCESS(f'История добавлена для автомобиля с VIN {car.vin}'))

        self.stdout.write(self.style.SUCCESS("Процесс завершен!"))
